<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Trait Fighters</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:#0a0f1c;
    color:white;
}

#game{
    display:flex;
    height:100vh;
}

/* LEFT PANEL */
#statsPanel{
    width:260px;
    background:#111a33;
    padding:20px;
    border-right:2px solid #1f2a55;
}

.stat{
    margin:10px 0;
    padding:10px;
    background:#18224a;
    border-radius:6px;
}

/* RIGHT SIDE */
#mainPanel{
    flex:1;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
}

button{
    padding:12px 20px;
    margin:10px;
    border:none;
    border-radius:6px;
    background:#4b7cff;
    color:white;
    font-size:16px;
    cursor:pointer;
}

button:hover{
    background:#6a94ff;
}

#wheelBox{
    text-align:center;
    padding:30px;
    background:#121c3d;
    border-radius:12px;
    min-width:300px;
}

#result{
    font-size:24px;
    margin-top:15px;
}

/* NAME INPUT */
#nameScreen{
    display:none;
    text-align:center;
}
</style>
</head>

<body>

<div id="game">

<!-- LEFT STATS PANEL -->
<div id="statsPanel">
<h2>Character Stats</h2>

<div class="stat">Name: <span id="statName">---</span></div>
<div class="stat">Strength: <span id="statStrength">---</span></div>
<div class="stat">Durability: <span id="statDurability">---</span></div>
<div class="stat">Luck: <span id="statLuck">---</span></div>
<div class="stat">Trait: <span id="statTrait">---</span></div>

</div>

<!-- MAIN AREA -->
<div id="mainPanel">

<div id="wheelBox">
<h2 id="wheelTitle">Roll Strength</h2>

<button onclick="spinWheel()">SPIN</button>

<div id="result"></div>
</div>

<!-- NAME INPUT SCREEN -->
<div id="nameScreen">
<h2>Name Your Character</h2>
<input id="nameInput" placeholder="Enter name">
<br>
<button onclick="saveName()">Confirm</button>
</div>

<!-- GAME MODE SCREEN -->
<div id="modeScreen" style="display:none">
<h2>Select Mode</h2>
<button onclick="enterMode('pvp')">PvP Arena</button>
<button onclick="enterMode('pve')">PvE World</button>
<button onclick="enterMode('fusion')">Fusion Lab</button>
</div>

</div>
</div>

<script>

/* -------------------------
   GAME STATE
-------------------------- */

let stats = {
    name: "",
    strength: null,
    durability: null,
    luck: null,
    trait: null
};

let wheelStep = 0;

const wheelOrder = [
    "strength",
    "durability",
    "luck",
    "trait"
];

/* -------------------------
   ROLL TABLES
-------------------------- */

function rollStrength(){
    return randomRange(10,100);
}

function rollDurability(){
    return randomRange(10,100);
}

function rollLuck(){
    return randomRange(1,50);
}

function rollTrait(){

    let roll = Math.random()*100;

    if(roll < 50) return "Common Trait";
    if(roll < 80) return "Rare Trait";
    if(roll < 95) return "Legendary Trait";
    return "Divine Trait";
}

/* -------------------------
   CORE SPIN
-------------------------- */

function spinWheel(){

    let current = wheelOrder[wheelStep];
    let value;

    if(current === "strength") value = rollStrength();
    if(current === "durability") value = rollDurability();
    if(current === "luck") value = rollLuck();
    if(current === "trait") value = rollTrait();

    stats[current] = value;

    document.getElementById("result").innerText = value;

    updateStatsPanel();

    wheelStep++;

    setTimeout(nextWheelStep, 900);
}

/* -------------------------
   FLOW CONTROL
-------------------------- */

function nextWheelStep(){

    if(wheelStep >= wheelOrder.length){
        showNameScreen();
        return;
    }

    let next = wheelOrder[wheelStep];

    document.getElementById("wheelTitle").innerText =
        "Roll " + capitalize(next);

    document.getElementById("result").innerText = "";
}

function showNameScreen(){
    document.getElementById("wheelBox").style.display = "none";
    document.getElementById("nameScreen").style.display = "block";
}

function saveName(){

    let name = document.getElementById("nameInput").value;

    if(!name){
        alert("Enter a name!");
        return;
    }

    stats.name = name;

    updateStatsPanel();

    document.getElementById("nameScreen").style.display = "none";
    document.getElementById("modeScreen").style.display = "block";
}

/* -------------------------
   MODES
-------------------------- */

function enterMode(mode){

    if(mode === "pvp"){
        alert("Entering PvP Arena (build later)");
    }

    if(mode === "pve"){
        alert("Entering PvE World (build later)");
    }

    if(mode === "fusion"){
        alert("Entering Fusion Lab (build later)");
    }
}

/* -------------------------
   UI UPDATE
-------------------------- */

function updateStatsPanel(){

    document.getElementById("statName").innerText =
        stats.name || "---";

    document.getElementById("statStrength").innerText =
        stats.strength ?? "---";

    document.getElementById("statDurability").innerText =
        stats.durability ?? "---";

    document.getElementById("statLuck").innerText =
        stats.luck ?? "---";

    document.getElementById("statTrait").innerText =
        stats.trait ?? "---";
}

/* -------------------------
   HELPERS
-------------------------- */

function randomRange(min,max){
    return Math.floor(Math.random()*(max-min+1))+min;
}

function capitalize(str){
    return str.charAt(0).toUpperCase()+str.slice(1);
}

/* INIT */
updateStatsPanel();

</script>

</body>
</html>
